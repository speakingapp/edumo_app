import{u as j,r,o as C,a as q,b as e,c as E,d as H,w as t,e as v,f as o,g as l,h as a,i,G as R,s as T,m as U,l as K,j as S,k as Y,n as D,p as F,q as J,t as Q}from"./index-M_SpqCHy.js";const X="/assets/login-xPMekIH2.svg",Z={class:"mx-auto"},$=["src"],oo=l("div",{class:"text-center"},[l("h1",{class:"text-3xl text-blue-600 text-center font-bold"},"Platformaga kirish"),l("p",{class:"text-gray-400"},"Ma'lumotlatingizni kiriting")],-1),eo={class:"text-gray-700 text-center mt-6"},to={class:"text-sky-400"},ao={__name:"Login",setup(no){const g=j(),u=r(""),_=r(""),d=r(!1),m=r("");C(()=>{q(v,s=>{s?g.push("/home","forward"):console.log("You are not authorized")})});const p=r(!1),V=()=>{p.value=!p.value};let x;C(()=>{x=async()=>{if(!u.value||!_.value){d.value=!0,m.value="Please enter email and password.";return}const s=await J.create({message:"Logging in..."});s.present(),Q(v,u.value,_.value).then(n=>{s.dismiss(),g.push("/home","forward")}).catch(n=>{s.dismiss(),d.value=!0,m.value="Login yoki parol xato",console.log(n.message)})}});const P=async()=>{const s=new R;try{const f=(await T(v,s)).user;console.log(f),g.push("/home","forward")}catch(n){console.error(n),d.value=!0,m.value=n}};return(s,n)=>{const f=e("ion-back-button"),z=e("ion-buttons"),I=e("ion-toolbar"),L=e("ion-header"),b=e("ion-label"),c=e("ion-icon"),k=e("ion-input"),w=e("ion-item"),y=e("ion-button"),O=e("router-link"),G=e("ion-col"),M=e("ion-row"),A=e("ion-grid"),B=e("ion-toast"),N=e("ion-content"),W=e("ion-page");return E(),H(W,null,{default:t(()=>[o(L,{class:"ion-no-border"},{default:t(()=>[o(I,{color:"primary"},{default:t(()=>[o(z,{slot:"start"},{default:t(()=>[o(f,{"default-href":"/"})]),_:1})]),_:1})]),_:1}),o(N,{fullscreen:!0,class:"ion-padding ion-margin-top","scroll-y":"false"},{default:t(()=>[o(A,null,{default:t(()=>[o(M,{class:"ion-justify-content-center"},{default:t(()=>[o(G,{size:"12","size-md":"8","size-lg":"6","size-xl":"4"},{default:t(()=>[l("div",Z,[l("img",{src:a(X),class:"w-[40%] sm:w-32 mx-auto",alt:"Logo"},null,8,$),oo]),o(w,{class:"relative flex items-end"},{default:t(()=>[o(b,{position:"floating"},{default:t(()=>[i("Email")]),_:1}),o(c,{icon:a(U),slot:"start"},null,8,["icon"]),o(k,{type:"email",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=h=>u.value=h)},null,8,["modelValue"])]),_:1}),o(w,{class:"relative flex items-end"},{default:t(()=>[o(b,{position:"floating"},{default:t(()=>[i("Parol")]),_:1}),o(c,{icon:a(K),slot:"start"},null,8,["icon"]),o(k,{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=h=>_.value=h),type:p.value?"text":"password"},null,8,["modelValue","type"]),o(c,{icon:p.value?a(S):a(Y),onClick:V,slot:"end"},null,8,["icon"])]),_:1}),o(y,{onClick:a(x),class:"ion-margin-top",expand:"block"},{default:t(()=>[i("Kirish "),o(c,{icon:a(D),slot:"end"},null,8,["icon"])]),_:1},8,["onClick"]),o(y,{onClick:P,color:"secondary",expand:"block"},{default:t(()=>[i("Google orqali kirish "),o(c,{icon:a(F),slot:"start"},null,8,["icon"])]),_:1}),l("p",eo,[i("Hisob yaratmaganmisiz? "),l("span",to,[o(O,{to:"/register"},{default:t(()=>[i("Ro'yxatdan o'tish")]),_:1})])])]),_:1})]),_:1})]),_:1}),o(B,{"is-open":d.value,message:m.value,duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})}}};export{ao as default};
